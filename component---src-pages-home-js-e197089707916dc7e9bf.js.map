{"version":3,"sources":["webpack:///./src/components/modal.js","webpack:///./src/components/loading.js","webpack:///./src/components/header_home.js","webpack:///./src/components/waves.js","webpack:///./src/components/alert.js","webpack:///./src/components/social_links.js","webpack:///./src/components/missions.js","webpack:///./src/components/history.js","webpack:///./src/components/payment.js","webpack:///./src/components/profile.js","webpack:///./src/lib/alerts.js","webpack:///./src/pages/home.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/footer.js","webpack:///./src/assets/images/fa-alis.png","webpack:///./src/lib/auth.js","webpack:///./src/assets/images/waves.png"],"names":["components_modal","Modal","props","_this","_Component","call","this","state","modal","render","btn_exec","_this2","exec","react_default","a","createElement","type","className","onClick","window","$","exec_text","id","tabIndex","role","aria-labelledby","aria-hidden","title","data-dismiss","aria-label","style","wordBreak","body","cancel_text","react","Component","loading","Loading","width","href","t","header_home","Header_Home","user","aht","serverInfo","amount","earned","data-toggle","backgroundImage","photoURL","displayName","auth","logout","k","N","n","moment_timezone_default","locale","components_waves","Waves","confirmRemoval","console","log","removeWavesAddress","addWaves","genRandomValue","random_value","waves_url","uid","clearInterval","interval","popup","open","current_url","url_default","parse","location","parentWindow","setInterval","err","redirect_url","popup_url","close","e","host","validateWavesAddress","waves_html","waves_addresses","userInfo","underscore_default","isEmpty","receiver_address","addresses_html","waves_addresses_ordered","receiver","push","unshift","forEach","v","index","address","src","waves_default","setAsReceiver","target","fontSize","whiteSpace","added_at","format","showModal","components_alert","Alert","alert_html","items","i","alerts","dissmissAlert","text","_","I","components_social_links","Social_Links","link_discord","link_github","unlink_twitter","unlink_github","unlink_social","key","mission_no","opts","missions","join","tasks","confirmed","updateData","setUserInfo","unlink_discord","social_links_html","name","color","func_unlink","func_link","icon","social_links","fa_alis_default","height","border","marginBottom","link_func","apply","modals","error_too_short","error_general","Missions","checking","isChecking","cb","setState","clearChecking","checkGithub","fetch","then","d","json","error","username","login","status","completeTask","catch","checkDiscord","_this3","discord","isMember","checkFollowing","_this4","following","waves_address_added_at","waves_done","_this5","completed_tasks","completed_icon","completed_html","revoke","task_id","task","done","date","created_at","btn_txt","btn_func","dones","filter","length","progress","Math","floor","progress_color","tasks_html","index_color","minWidth","fromNow","tr_class","includes","isConfirmed","_iterator","history","_isArray","Array","isArray","_i","Symbol","iterator","_ref","next","value","mission_id","backgroundColor","retry","cursor","confirmMission","components_history","History","history_html","payment","Payment","payment_html","sent","confirmation","payment_style","textDecoration","cancel","sent_at","tx","block","profile","Profile","reservePayment","_this$getAmounts","getAmounts","unpaid_aht","amount_aht","last_payment","Date","now","registerPayment","paid","_this$getAmounts2","replace","R","lib_alerts","Alerts","component","pushAlert","message","splice","home_Home","Home","config","redirectedUrl","parsedUrl","redirect","query","s","p","origin","search","mission","social","oauth","assertThisInitialized_default","componentDidMount","componentDidUpdate","tooltip","boundary","placement","isUser","render_dashboard","layout","Helmet_default","link","rel","footer","_React$createElement","__webpack_exports__","default","D","153","m","module","exports","__webpack_require__","r","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","navigateTo","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","data","children","Error","propTypes","object","string","isRequired","func","Layout","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","Fragment","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","site","siteMetadata","meta","content","lang","_public_static_d_755544856_json__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","node","161","163","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","pageResources","getResourcesForPathname","pathname","shape","c","168","o","Footer","link_items","react__WEBPACK_IMPORTED_MODULE_5___default","react__WEBPACK_IMPORTED_MODULE_5__","170","175","l","u","error_account_removal","react__WEBPACK_IMPORTED_MODULE_12___default","firebase__WEBPACK_IMPORTED_MODULE_13___default","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","timestampsInSnapshots","Auth","WavesAPI","create","MAINNET_CONFIG","db","firestore","provider","TwitterAuthProvider","provider_github","GithubAuthProvider","useDeviceLanguage","onAuthStateChanged","setUser","twitter_user","getUserInfo","prototype","setData","collection","doc","set","merge","ss","toString","match","update","isError","mission_confirmed","confirmation_id","get","getServerInfo","getUserHistory","getUserPayment","_this6","_this7","underscore__WEBPACK_IMPORTED_MODULE_16___default","sortBy","_this8","_this9","metadata","creationTime","providerData","providerId","_this10","oauth_url","encodeURIComponent","_this11","currentUser","linkWithPopup","result","_this12","transaction","transaction_pool","_this13","unlink","_this14","method","res","signInWithPopup","alert","signOut","url__WEBPACK_IMPORTED_MODULE_15___default","signedData","publicKey","_signedData$split","split","crypto","isValidAddress","addWavesAddress","publickKey","_this15","checkAddressInPool","_this16","exists","_this17","addAddressToPool","field","_this$updateData","_this18","removeAddressFromPool","delete","_this19","uuid","uuid_v4__WEBPACK_IMPORTED_MODULE_14___default","_this20","213"],"mappings":"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","file":"component---src-pages-home-js-e197089707916dc7e9bf.js","sourcesContent":["import React, { Component } from 'react'\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: {},\n    }\n  }\n  render() {\n    let modal = this.props.modal\n    let btn_exec\n    if (this.props.modal.exec != undefined) {\n      btn_exec = (\n        <button\n          type=\"button\"\n          className=\"btn btn-danger\"\n          onClick={() => {\n            window.$('#pageModal').modal('hide')\n\n            this.props.modal.exec()\n          }}\n        >\n          {this.props.modal.exec_text || '実行'}\n        </button>\n      )\n    }\n    return (\n      <div\n        className=\"modal fade\"\n        id=\"pageModal\"\n        tabIndex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                {modal.title}\n              </h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              />\n            </div>\n            <div className=\"modal-body\" style={{ wordBreak: 'break-all' }}>\n              {modal.body}\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-dismiss=\"modal\"\n              >\n                {modal.cancel_text || '取り消し'}\n              </button>\n              {btn_exec}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Modal\n","import React, { Component } from 'react'\n\nclass Loading extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <div className=\"page\" style={{ width: '100%' }}>\n        <div className=\"page-content\">\n          <div className=\"container text-center\">\n            <div className=\"display-1 text-muted mb-5\">\n              <i className=\"si si-exclamation\" /> データ取得中\n            </div>\n\n            <h1 className=\"h2 mb-3\">少々お待ち下さい...</h1>\n            <p className=\"h4 text-muted font-weight-normal mb-7\">\n              法定通貨に依存しない完全独自経済圏で好きなことを追求して生きていこう！\n            </p>\n\n            <a className=\"btn btn-primary\" href=\"/\">\n              <i className=\"fe fe-arrow-left mr-2\" />\n              トップページへ戻る\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Loading\n","import React, { Component } from 'react'\n\nclass Header_Home extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let user\n    if (this.props.user != undefined) {\n      let aht = '0.00000000'\n      if (\n        this.props.serverInfo != undefined &&\n        this.props.serverInfo.amount != undefined &&\n        this.props.serverInfo.amount.aht != undefined\n      ) {\n        aht = `${this.props.serverInfo.amount.aht.earned}.00000000`\n      }\n      user = (\n        <a\n          href=\"#\"\n          className=\"nav-link pr-0 leading-none\"\n          data-toggle=\"dropdown\"\n        >\n          <span\n            className=\"avatar\"\n            style={{\n              backgroundImage: `url(${this.props.user.photoURL})`,\n            }}\n          />\n          <span className=\"ml-2 d-none d-lg-block\">\n            <span className=\"text-default\">{this.props.user.displayName}</span>\n            <small className=\"text-muted d-block mt-1\">{aht} AHT</small>\n          </span>\n        </a>\n      )\n    }\n    return (\n      <div className=\"page\">\n        <div className=\"flax-fill\">\n          <div className=\"header py-4\">\n            <div className=\"container\">\n              <div className=\"d-flex\">\n                <a className=\"header-brand\" href=\"/\">\n                  ALIS HackerToken\n                </a>\n                <div className=\"d-flex order-lg-2 ml-auto\">\n                  <div className=\"dropdown\">\n                    {user}\n                    <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n                      <a\n                        className=\"dropdown-item\"\n                        onClick={() => {\n                          this.props.auth.logout()\n                        }}\n                      >\n                        <i className=\"dropdown-icon fe fe-log-out\" /> ログアウト\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Header_Home\n","import React, { Component } from 'react'\nimport url from 'url'\nimport _ from 'underscore'\n\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport waves_icon from '../assets/images/waves.png'\n\nmoment.locale('ja')\n\nclass Waves extends Component {\n  constructor(props) {\n    super(props)\n  }\n  confirmRemoval(k) {\n    console.log(this.props)\n    this.props.auth.removeWavesAddress(k)\n  }\n  addWaves() {\n    this.props.auth.genRandomValue(random_value => {\n      let waves_url = `https://client.wavesplatform.com#gateway/auth?r=https://${\n        process.env.WAVES_REDIRECT\n      }/&n=ALIS HackerToken&i=/img/alis_hackers.png&s=//oauth&d=${random_value}_${\n        this.props.user.uid\n      }&debug=false`\n      window.clearInterval(this.interval)\n      let popup = window.open(waves_url)\n      let current_url = url.parse(window.location.href)\n      if (popup == null) {\n        window.location.href = waves_url\n      } else {\n        popup.parentWindow = window\n        this.interval = window.setInterval(() => {\n          let err, redirect_url, popup_url\n          try {\n            popup_url = popup.location.href\n            redirect_url = url.parse(popup_url)\n            popup.close()\n          } catch (e) {\n            err = e\n          }\n          if (err == null && current_url.host === redirect_url.host) {\n            window.clearInterval(this.interval)\n            this.props.auth.validateWavesAddress(popup_url)\n          }\n        }, 1000)\n      }\n    })\n  }\n  render() {\n    let waves_html\n    let userInfo = this.props.userInfo\n    let waves_addresses = (userInfo || {}).waves_addresses || {}\n    if (_.isEmpty(waves_addresses)) {\n      waves_html = (\n        <div className=\"card-body\">Wavesアドレスは登録されていません。</div>\n      )\n    } else {\n      let addresses_html = []\n      let index = 0\n      let receiver_address\n      let waves_addresses_ordered = []\n      for (let k in waves_addresses) {\n        if (waves_addresses[k].receiver === true) {\n          receiver_address = waves_addresses[k]\n        } else {\n          waves_addresses_ordered.push(waves_addresses[k])\n        }\n      }\n      if (receiver_address != undefined) {\n        waves_addresses_ordered.unshift(receiver_address)\n      }\n      waves_addresses_ordered.forEach((v, index) => {\n        let receiver\n        if (\n          (receiver_address == undefined && index == 0) ||\n          (receiver_address != undefined &&\n            receiver_address.address == v.address)\n        ) {\n          receiver = <img src={waves_icon} />\n        } else {\n          receiver = (\n            <img\n              data-toggle=\"tooltip\"\n              className=\"waves-receiver\"\n              title=\"受け取りアドレスに設定する\"\n              src={waves_icon}\n              onClick={() => {\n                this.props.auth.setAsReceiver(v.address)\n              }}\n            />\n          )\n        }\n        addresses_html.push(\n          <tr>\n            <td>{receiver}</td>\n            <td style={{ wordBreak: 'break-all' }}>\n              <b>\n                <a\n                  href={`https://wavesexplorer.com/address/${v.address}`}\n                  target=\"_blank\"\n                >\n                  {v.address}\n                </a>\n              </b>\n            </td>\n            <td style={{ fontSize: '12px' }}>\n              <span style={{ whiteSpace: 'nowrap' }}>\n                {moment(waves_addresses[v.address].added_at).format('YYYY年')}\n              </span>{' '}\n              <span style={{ whiteSpace: 'nowrap' }}>\n                {moment(waves_addresses[v.address].added_at).format('M月D日')}\n              </span>\n            </td>\n            <td>\n              <a\n                className=\"icon\"\n                onClick={() => {\n                  this.props.showModal({\n                    title: (\n                      <div>\n                        <i className=\"fas fa-exclamation-triangle text-warning\" />{' '}\n                        Wavesアドレス削除確認\n                      </div>\n                    ),\n                    body: (\n                      <div>\n                        本当に <b>{v.address}</b> を削除してよろしいですか？\n                      </div>\n                    ),\n                    exec: () => {\n                      this.confirmRemoval(v.address)\n                    },\n                  })\n                }}\n              >\n                <i className=\"fe fe-trash text-danger\" />\n              </a>\n            </td>\n          </tr>\n        )\n      })\n      waves_html = (\n        <table className=\"table card-table table-striped table-vcenter\">\n          <thead>\n            <tr>\n              <th style={{ whiteSpace: 'nowrap' }}>受取</th>\n              <th>Wavesアドレス</th>\n              <th style={{ whiteSpace: 'nowrap' }}>追加日</th>\n              <th style={{ whiteSpace: 'nowrap' }}>削除</th>\n            </tr>\n          </thead>\n          <tbody>{addresses_html}</tbody>\n        </table>\n      )\n    }\n    return (\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card\">\n            <div className=\"table-responsible\">{waves_html}</div>\n            <div className=\"card-footer text-right\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                onClick={() => {\n                  this.addWaves()\n                }}\n              >\n                Wavesアドレスを追加\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Waves\n","import React, { Component } from 'react'\n\nclass Alert extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let alerts = this.props.items || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.props.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n\n    return <div className=\"row\">{alert_html}</div>\n  }\n}\n\nexport default Alert\n","import React, { Component } from 'react'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport fa_alis from '../assets/images/fa-alis.png'\n\nmoment.locale('ja')\nclass Social_Links extends Component {\n  constructor(props) {\n    super(props)\n  }\n  link_discord() {\n    this.props.auth.link_discord()\n  }\n\n  link_github() {\n    this.props.auth.link_github()\n  }\n  unlink_twitter() {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n          取り消し不可！\n        </div>\n      ),\n      body:\n        'ツイッターのアカウントはウェブサイトのログインで使用しているので取り消せません。',\n      cancel_text: '確認',\n    })\n  }\n  unlink_github() {\n    this.unlink_social({ key: 'github', mission_no: '4' })\n  }\n  unlink_social(opts = {}) {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" />{' '}\n          取り消し確認！\n        </div>\n      ),\n      body: (\n        <p>\n          本当に\n          <span className=\"text-capitalize\">{opts.key}</span>\n          アカウントを取り消してよろしいですか？このアカウントを使って完了したタスクも無効になります。\n        </p>\n      ),\n      exec_text: '実行',\n      exec: () => {\n        if (\n          this.props.userInfo.missions != undefined &&\n          this.props.userInfo.missions.join != undefined &&\n          this.props.userInfo.missions.join.tasks != undefined &&\n          this.props.userInfo.missions.join.tasks[opts.mission_no] !=\n            undefined &&\n          this.props.userInfo.missions.join.confirmed == undefined\n        ) {\n          delete this.props.userInfo.missions.join.tasks[opts.mission_no]\n          this.props.auth.updateData(\n            { missions: this.props.userInfo.missions },\n            () => {\n              this.props.auth.setUserInfo(\n                'missions',\n                this.props.userInfo.missions,\n                () => {\n                  this.props.auth[`unlink_${opts.key}`]()\n                }\n              )\n            }\n          )\n        } else {\n          this.props.auth[`unlink_${opts.key}`]()\n        }\n      },\n    })\n  }\n\n  unlink_discord() {\n    this.unlink_social({ key: 'discord', mission_no: '3' })\n  }\n\n  render() {\n    const social_links = [\n      {\n        type: 'twitter',\n        name: 'Twitter',\n        color: 'blue',\n        id: 'twitter.com',\n        func_unlink: 'unlink_twitter',\n      },\n      {\n        type: 'discord',\n        name: 'Discord',\n        color: 'green',\n        func_link: 'link_discord',\n        func_unlink: 'unlink_discord',\n      },\n      {\n        type: 'github',\n        name: 'Github',\n        color: 'red',\n        id: 'github.com',\n        func_link: 'link_github',\n        func_unlink: 'unlink_github',\n      },\n      { type: 'alis', name: 'ALIS', color: 'purple' },\n    ]\n    let social_links_html = []\n    social_links.forEach(v => {\n      if (this.props.social_links[v.id] != undefined) {\n        v.displayName = this.props.social_links[v.id].uid\n      } else if (\n        this.props.serverInfo != undefined &&\n        this.props.serverInfo[v.type] != undefined\n      ) {\n        v.displayName = this.props.serverInfo[v.type].id\n      }\n      let icon\n      if (v.type === 'alis') {\n        icon = (\n          <img\n            src={fa_alis}\n            style={{\n              height: '30px',\n              width: '30px',\n              border: 'none',\n              marginBottom: '2px',\n            }}\n          />\n        )\n      } else {\n        icon = <i className={`fab fa-${v.type}`} />\n      }\n      let className = 'social-linked'\n      let link_func = () => {}\n      if (v.displayName == undefined) {\n        if (v.type == 'alis') {\n          v.displayName = <div>この機能は準備中です</div>\n        } else {\n          v.displayName = <div>アカウントをリンクする</div>\n          link_func = this[v.func_link]\n        }\n        className = 'social-unlinked'\n        v.color = 'gray'\n      } else if (v.func_unlink != undefined) {\n        link_func = this[v.func_unlink]\n      }\n      social_links_html.push(\n        <div className=\"col-12 col-sm-6 col-lg-12\">\n          <div\n            className={`card p-3 ${className}`}\n            onClick={() => {\n              link_func.apply(this)\n            }}\n          >\n            <div className=\"d-flex align-items-center\">\n              <span className={`stamp stamp-md bg-${v.color} mr-3`}>\n                {icon}\n              </span>\n              <div>\n                <h4 className=\"m-0\">\n                  <span>{v.name}</span>\n                </h4>\n                <small className=\"text-muted\">{v.displayName}</small>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    })\n    return <div className=\"row\">{social_links_html}</div>\n  }\n}\n\nexport default Social_Links\n","import React, { Component } from 'react'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nconst modals = {\n  error_too_short: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> 連続で申請はできません！\n      </div>\n    ),\n    body: '１時間以上空けてからもう一度申請して下さい。',\n    cancel_text: '確認',\n  },\n  error_general: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> エラーが発生しました！\n      </div>\n    ),\n    body: '時間を置いてからもう一度申請して下さい。',\n    cancel_text: '確認',\n  },\n}\n\nclass Missions extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      checking: false,\n    }\n  }\n  isChecking(index, cb) {\n    if (this.props.checking == null) {\n      this.setState({ checking: index }, () => {\n        cb()\n      })\n    }\n  }\n\n  clearChecking() {\n    this.setState({ checking: null })\n  }\n\n  checkGithub() {\n    if (this.props.social_links['github.com'] == undefined) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fas fa-ban\" />{' '}\n            Githubアカウントが登録されていません！\n          </div>\n        ),\n        body:\n          'オーガニゼーション登録のチェックをする前にGithubアカウントを登録して下さい。',\n        exec_text: '登録',\n        exec: () => {\n          this.props.auth.link_github()\n        },\n      })\n    } else {\n      this.isChecking(2, () => {\n        fetch(\n          `https://api.github.com/user/${\n            this.props.social_links['github.com'].uid\n          }`\n        )\n          .then(d => d.json())\n          .then(json => {\n            this.clearChecking()\n            if (json.error != undefined) {\n              if (json.error == 3) {\n                this.props.showModal(modals.error_too_short)\n              } else {\n                this.props.showModal(modals.error_general)\n              }\n            } else {\n              let username = json.login\n              return fetch(\n                `https://api.github.com/orgs/alisista/members/${username}`\n              )\n            }\n          })\n          .then(d => {\n            let status = d.status\n            if (status === 204) {\n              this.props.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-success fas fa-check\" />{' '}\n                    メンバーシップ確認完了\n                  </div>\n                ),\n                body: 'どうもありがとうございます！',\n                cancel_text: '確認',\n              })\n              this.props.auth.completeTask('join', 4)\n            } else {\n              this.props.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-danger fas fa-ban\" />{' '}\n                    メンバーシップが確認できません！\n                  </div>\n                ),\n                body:\n                  '参加申請、招待承認、メンバーシップ公開をしてからもう一度申請しなおして下さい。',\n                cancel_text: '確認',\n              })\n            }\n          })\n          .catch(() => {\n            this.props.showModal(modals.error_general)\n            this.clearChecking()\n          })\n      })\n    }\n  }\n\n  checkDiscord() {\n    if (\n      this.props.serverInfo == undefined ||\n      this.props.serverInfo.discord == undefined\n    ) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fas fa-ban\" />{' '}\n            Discordアカウントが登録されていません！\n          </div>\n        ),\n        body:\n          'Discord参加のチェックをする前にDiscordアカウントを登録して下さい。',\n        exec_text: '登録',\n        exec: () => {\n          this.props.auth.link_discord()\n        },\n      })\n    } else {\n      this.isChecking(3, () => {\n        fetch(\n          `${process.env.BACKEND_SERVER_ORIGIN}/alishackers/check/discord/${\n            this.props.user.uid\n          }/${this.props.serverInfo.discord.id}`\n        )\n          .then(d => d.json())\n          .then(json => {\n            this.clearChecking()\n            if (json.error != undefined) {\n              if (json.error == 3) {\n                this.props.showModal(modals.error_too_short)\n              } else {\n                this.props.showModal(modals.error_general)\n              }\n            } else {\n              let isMember = json.isMember\n              if (isMember) {\n                this.props.showModal({\n                  title: (\n                    <div>\n                      <i className=\"text-success fas fa-check\" />{' '}\n                      Discord参加確認完了\n                    </div>\n                  ),\n                  body: 'どうもありがとうございます！',\n                  cancel_text: '確認',\n                })\n                this.props.auth.completeTask('join', 3)\n              } else {\n                this.props.showModal({\n                  title: (\n                    <div>\n                      <i className=\"text-danger fas fa-ban\" />{' '}\n                      Discord参加が確認できません！\n                    </div>\n                  ),\n                  body:\n                    'ALISハッカー部のDiscordに参加してからもう一度申請しなおして下さい。',\n                  cancel_text: '確認',\n                })\n              }\n            }\n          })\n      })\n    }\n  }\n\n  checkFollowing() {\n    this.isChecking(2, () => {\n      fetch(\n        `${process.env.BACKEND_SERVER_ORIGIN}/alishackers/check/following/` +\n          this.props.user.id\n      )\n        .then(d => d.json())\n        .then(json => {\n          this.clearChecking()\n          if (json.error != undefined) {\n            if (json.error == 3) {\n              this.props.showModal(modals.error_too_short)\n            } else {\n              this.props.showModal(modals.error_general)\n            }\n          } else {\n            let isfollowing = json.following\n            if (isfollowing) {\n              this.props.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-success fas fa-check\" /> フォロー確認完了\n                  </div>\n                ),\n                body: 'どうもありがとうございます！',\n                cancel_text: '確認',\n              })\n              this.props.auth.completeTask('join', 2)\n            } else {\n              this.props.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-danger fas fa-ban\" />{' '}\n                    フォローが完了していません！\n                  </div>\n                ),\n                body:\n                  'ツイッターアカウントをフォローしてからもう一度申請しなおして下さい。',\n                cancel_text: '確認',\n              })\n            }\n          }\n        })\n        .catch(() => {\n          this.props.showModal(modals.error_general)\n          this.clearChecking()\n        })\n    })\n  }\n  render() {\n    let completed_tasks =\n      (((this.props.userInfo || {}).missions || {}).join || {}).tasks || {}\n    let waves_address_added_at, waves_done\n    if (_.isEmpty((this.props.userInfo || {}).waves_addresses || {}) == false) {\n      waves_done = true\n      for (let k in this.props.userInfo.waves_addresses) {\n        if (\n          waves_address_added_at == undefined ||\n          waves_address_added_at >\n            this.props.userInfo.waves_addresses[k].added_at\n        ) {\n          waves_address_added_at = this.props.userInfo.waves_addresses[k]\n            .added_at\n        }\n      }\n    }\n    let revoke = (((this.props.userInfo || {}).missions || {}).join || {})\n      .revoke\n    let tasks = [\n      {\n        id: '1',\n        task_id: 'task-1',\n        task: 'ハッカー部ウェブサイトにツイッターでログイン',\n        done: true,\n        date: moment(this.props.user.created_at).format('x') * 1,\n      },\n      {\n        id: '2',\n        task_id: 'task-2',\n        task: 'Wavesアドレスを登録',\n        btn_txt: '登録',\n        done: waves_done,\n        date: waves_address_added_at,\n        btn_func: 'addWaves',\n      },\n      {\n        id: '3',\n        task_id: 'task-3',\n        task: (\n          <div>\n            ハッカー部ツイッターアカウント\n            <a\n              className=\"ml-2 mr-2\"\n              href=\"https://twitter.com/alishackers\"\n              target=\"_blank\"\n            >\n              <i className=\"fab fa-twitter\" /> alishackers\n            </a>\n            をフォロー\n          </div>\n        ),\n        btn_func: 'checkFollowing',\n        done: completed_tasks[2] != undefined,\n        date: completed_tasks[2],\n      },\n      {\n        id: '4',\n        task_id: 'task-4',\n        task: (\n          <div>\n            ハッカー部\n            <a\n              href=\"https://discordapp.com/invite/TyKbbrT\"\n              target=\"blank\"\n              className=\"ml-2 mr-2\"\n            >\n              <i className=\"fab fa-discord\" /> DISCORD\n            </a>\n            に参加\n          </div>\n        ),\n        btn_func: 'checkDiscord',\n        done: completed_tasks[3] != undefined,\n        date: completed_tasks[3],\n      },\n      {\n        id: '5',\n        task_id: 'task-5',\n        task: (\n          <div>\n            ハッカー部\n            <a\n              href=\"https://github.com/alisista\"\n              target=\"blank\"\n              className=\"ml-2 mr-2\"\n            >\n              <i className=\"fab fa-github\" /> Githubオーガニゼーション\n            </a>\n            に参加申請\n            <br />\n            申請方法\n            <i className=\"fa fa-arrow-circle-right ml-2 mr-2\" />\n            <b className=\"text-orange\">#アリスハッカートークン</b>\n            チャンネルで自分が開発したいものやどういった活動をしたいかをコメント\n            <br />\n            招待が来たら承認し、\n            <a\n              href=\"https://help.github.com/articles/publicizing-or-hiding-organization-membership/\"\n              target=\"_blank\"\n            >\n              メンバーシップを公開\n            </a>\n            する\n          </div>\n        ),\n        btn_func: 'checkGithub',\n        done: completed_tasks[4] != undefined,\n        date: completed_tasks[4],\n      },\n    ]\n    let dones = _(tasks).filter(v => {\n      return v.done\n    }).length\n    let progress = Math.floor((dones / 5) * 100)\n    let progress_colors = ['gray', 'red', 'orange', 'teal', 'blue', 'green']\n    let progress_color = progress_colors[dones]\n    let tasks_html = []\n    tasks.forEach((v, i) => {\n      let index = i + 1\n      let index_color = 'gray'\n      let task = v.task\n      let btn_txt = v.btn_txt || 'チェック'\n      if (this.props.checking === i) {\n        btn_txt = <i className=\"fas fa-cog fa-spin\" />\n      }\n      let date = (\n        <button\n          className=\"btn btn-primary\"\n          onClick={() => {\n            this[v.btn_func]()\n          }}\n          style={{ minWidth: '60px' }}\n        >\n          {btn_txt}\n        </button>\n      )\n      if (v.done == true) {\n        index = <i className=\"fa fa-check\" />\n        index_color = 'success'\n        task = <del>{v.task}</del>\n        date = moment(v.date).fromNow()\n      }\n      let tr_class = ''\n      if (revoke != undefined && revoke.includes(v.task_id)) {\n        index = <i className=\"fa fa-ban\" />\n        index_color = 'danger'\n        tr_class = 'table-danger'\n      }\n      tasks_html.push(\n        <tr className={tr_class}>\n          <td>\n            <span className={`stamp stamp-sm bg-${index_color}`}>{index}</span>\n          </td>\n          <td>{task}</td>\n          <td style={{ fontSize: '12px', whiteSpace: 'nowrap' }}>{date}</td>\n        </tr>\n      )\n    })\n    let completed_icon, completed_html\n    if (progress == 100) {\n      completed_icon = <i className=\"text-success fa fa-check-circle mr-3\" />\n      if (this.props.userInfo.missions.join.confirmed != undefined) {\n        let isConfirmed = false\n        for (let v of this.props.history || []) {\n          if (v.mission_id == 'join') {\n            isConfirmed = true\n            break\n          }\n        }\n        if (revoke != undefined) {\n          completed_html = (\n            <tr style={{ backgroundColor: '#ddd' }}>\n              <td>\n                {' '}\n                <span className={`stamp stamp-sm bg-danger`}>\n                  <i className=\"fa fa-ban\" />\n                </span>\n              </td>\n              <td className=\"text-danger\">\n                いくつかのタスクでソーシャルアカウントの重複使用があったため、認証に失敗しました。以前に別のユーザーに使われていないソーシャルアカウントで再トライして下さい。\n              </td>\n              <td>\n                {' '}\n                <button\n                  className=\"btn btn-warning\"\n                  onClick={() => {\n                    this.props.auth.retry()\n                  }}\n                  style={{ minWidth: '60px', cursor: 'pointer' }}\n                >\n                  再トライ\n                </button>\n              </td>\n            </tr>\n          )\n        } else if (isConfirmed == true) {\n          completed_html = (\n            <tr style={{ backgroundColor: '#ddd' }}>\n              <td>\n                {' '}\n                <span className={`stamp stamp-sm bg-danger`}>\n                  <i className=\"fa fa-award\" />\n                </span>\n              </td>\n              <td className=\"text-danger\">\n                おめでとうございます！トークンが配布されました。トークン獲得履歴をお確かめ下さい。\n              </td>\n              <td>\n                {' '}\n                <button\n                  className=\"btn btn-success\"\n                  style={{ minWidth: '60px', cursor: 'default' }}\n                >\n                  確定済\n                </button>\n              </td>\n            </tr>\n          )\n        } else {\n          completed_html = (\n            <tr style={{ backgroundColor: '#ddd' }}>\n              <td>\n                {' '}\n                <span className={`stamp stamp-sm bg-danger`}>\n                  <i className=\"fa fa-award\" />\n                </span>\n              </td>\n              <td className=\"text-danger\">\n                おめでとうございます！ミッション達成を認証中です。２４時間以内に認証されトークン配布が確定されますので少々お待ち下さい。\n              </td>\n              <td>\n                {' '}\n                <button\n                  className=\"btn btn-success\"\n                  style={{ minWidth: '60px', cursor: 'default' }}\n                >\n                  認証中\n                </button>\n              </td>\n            </tr>\n          )\n        }\n      } else {\n        completed_html = (\n          <tr style={{ backgroundColor: '#ddd' }}>\n            <td>\n              {' '}\n              <span className={`stamp stamp-sm bg-danger`}>\n                <i className=\"fa fa-award\" />\n              </span>\n            </td>\n            <td className=\"text-danger\">\n              おめでとうございます！ミッション達成を認証してトークン配布手続きを開始するために確定ボタンをクリックして下さい。一度確定したミッションは取り消せなくなり、そのタスクで使用したソーシャルアカウントは別のユーザーで同一タスク遂行には使用できません。\n            </td>\n            <td>\n              {' '}\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => {\n                  this.props.auth.confirmMission('join')\n                }}\n                style={{ minWidth: '60px' }}\n              >\n                確定\n              </button>\n            </td>\n          </tr>\n        )\n      }\n    }\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h4 className=\"card-title\">\n            <span className={`stamp stamp-sm bg-primary mr-3`}>\n              <i className=\"fa fa-award\" />\n            </span>\n            ALISハッカー部入部で\n            <b className=\"text-blue ml-2 mr-2\">100AHT</b>\n            獲得！\n          </h4>\n        </div>\n        <div className=\"card-body text-center\">\n          <div className=\"h5\">\n            タスク進捗 （{dones}\n            /5）\n          </div>\n          <div className=\"display-4 font-weight-bold mb-4\">\n            {completed_icon}\n            {progress}%\n          </div>\n          <div className=\"progress progress-sm\">\n            <div\n              className={`progress-bar bg-${progress_color}`}\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n        </div>\n        <div className=\"table-responsive\">\n          <table className=\"table card-table table-striped table-vcenter\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>タスク</th>\n                <th style={{ whiteSpace: 'nowrap' }}>完了日</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tasks_html}\n              {completed_html}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Missions\n","import React, { Component } from 'react'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nclass History extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n  render() {\n    if ((this.props.history || []).length == 0) {\n      return null\n    } else {\n      let history_html = []\n      this.props.history.forEach(v => {\n        history_html.push(\n          <tr>\n            <td>{moment(v.date).format('M月D日')}</td>\n            <td>\n              <b className=\"text-primary\">{v.amount}</b> AHT\n            </td>\n            <td>ALISハッカー部に入部</td>\n          </tr>\n        )\n      })\n      return (\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h4 className=\"card-title\">\n              <span className={`stamp stamp-sm bg-primary mr-3`}>\n                <i className=\"fas fa-hand-holding-heart\" />\n              </span>\n              トークン獲得履歴\n            </h4>\n          </div>\n          <div className=\"table-responsive\">\n            <table className=\"table card-table table-striped table-vcenter\">\n              <thead>\n                <tr>\n                  <th>獲得日</th>\n                  <th>トークン額</th>\n                  <th style={{ whiteSpace: 'nowrap' }}>獲得事由</th>\n                </tr>\n              </thead>\n              <tbody>{history_html}</tbody>\n            </table>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default History\n","import React, { Component } from 'react'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nclass Payment extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n  render() {\n    if ((this.props.payment || []).length == 0) {\n      return null\n    } else {\n      let payment_html = []\n\n      this.props.payment.forEach(v => {\n        let sent,\n          confirmation,\n          payment_style = {}\n        if (v.status === 'canceled') {\n          payment_style = { textDecoration: 'line-through', color: 'tomato' }\n          sent = <span>取り消し</span>\n          if (v.cancel == 1) {\n            confirmation = <span>理由: 残高不足</span>\n          } else {\n            confirmation = <span>理由: 不明</span>\n          }\n        } else if (v.sent_at != undefined) {\n          sent = (\n            <a href={`https://wavesexplorer.com/tx/${v.tx}`} target=\"_blank\">\n              {moment(v.sent_at).format('M月D日 HH:mm')}\n            </a>\n          )\n        }\n        if (v.status == 'confirmed') {\n          confirmation = (\n            <a\n              href={`https://wavesexplorer.com/blocks/${v.block}`}\n              target=\"_blank\"\n            >\n              <i className=\"fa fa-check text-success\" /> {v.block}\n            </a>\n          )\n        } else if (v.status === 'sent') {\n          confirmation = (\n            <span>\n              <i className=\"text-orange fa fa-spin fa-cog\" /> 確認中...\n            </span>\n          )\n        }\n        payment_html.push(\n          <tr style={payment_style}>\n            <td>{moment(v.date).format('M月D日 HH:mm')}</td>\n            <td>\n              <b className=\"text-primary\">{v.amount}</b> AHT\n            </td>\n            <td>{sent}</td>\n            <td>{confirmation}</td>\n          </tr>\n        )\n      })\n      return (\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h4 className=\"card-title\">\n              <span className={`stamp stamp-sm bg-orange mr-3`}>\n                <i className=\"fas fa-paper-plane\" />\n              </span>\n              トークン支払い履歴\n            </h4>\n          </div>\n          <div className=\"table-responsive\">\n            <table className=\"table card-table table-striped table-vcenter\">\n              <thead>\n                <tr>\n                  <th>申請日</th>\n                  <th>トークン額</th>\n                  <th style={{ whiteSpace: 'nowrap' }}>送信日（取引詳細）</th>\n                  <th style={{ whiteSpace: 'nowrap' }}>完了確認</th>\n                </tr>\n              </thead>\n              <tbody>{payment_html}</tbody>\n            </table>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Payment\n","import React, { Component } from 'react'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport fa_alis from '../assets/images/fa-alis.png'\n\nmoment.locale('ja')\nclass Profile extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  reservePayment() {\n    let { amount_aht, unpaid_aht, last_payment } = this.getAmounts()\n    let address\n    for (let k in this.props.userInfo.waves_addresses || {}) {\n      if (\n        address == undefined ||\n        this.props.userInfo.waves_addresses[k].receiver == true\n      ) {\n        address = k\n      }\n    }\n    if (Date.now() - last_payment < 1000 * 60 * 60 * 24 * 7) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            引き出し申請不可期間！\n          </div>\n        ),\n        body: <p>トークンの引き出しができるのは一週間に一度だけです。</p>,\n        cancel_text: '確認',\n      })\n    } else if (address == undefined) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            Wavesアドレスが登録されていません！\n          </div>\n        ),\n        body: <p>Wavesのアドレスを登録してから、もう一度お試し下さい。</p>,\n        cancel_text: '確認',\n      })\n    } else if (unpaid_aht === 0) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            残高がありません！\n          </div>\n        ),\n        body: <p>未払いのトークンはありません。</p>,\n        cancel_text: '確認',\n      })\n    } else {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fas fa-exclamation-triangle\" />{' '}\n            トークン引き出し確認！\n          </div>\n        ),\n        body: (\n          <p>\n            <b className=\"text-danger\">{unpaid_aht}</b>\n            AHTを\n            <b className=\"text-danger\">{address}</b>\n            に送信してよろしいですか？\n          </p>\n        ),\n        exec_text: '実行',\n        exec: () => {\n          this.props.auth.registerPayment(unpaid_aht, address)\n        },\n      })\n    }\n  }\n  getAmounts() {\n    let amount_aht = 0\n    let unpaid_aht = 0\n    let last_payment = 0\n    if (\n      this.props.serverInfo.amount != undefined &&\n      this.props.serverInfo.amount.aht != undefined\n    ) {\n      amount_aht = this.props.serverInfo.amount.aht.earned\n      unpaid_aht =\n        this.props.serverInfo.amount.aht.earned -\n        this.props.serverInfo.amount.aht.paid\n    }\n    let payment = this.props.payment || []\n    if (payment[0] != undefined && payment[0].status == 'requested') {\n      unpaid_aht -= payment[0].amount\n    }\n    if (payment[0] != undefined) {\n      last_payment = payment[0].date\n    }\n    return {\n      amount_aht: amount_aht,\n      unpaid_aht: unpaid_aht,\n      last_payment: last_payment,\n    }\n  }\n  render() {\n    let { amount_aht, unpaid_aht } = this.getAmounts()\n    return [\n      <div className=\"card card-profile\">\n        <div\n          className=\"card-header\"\n          style={{ backgroundImage: 'url(/img/bg-showcase-4.jpg)' }}\n        />\n        <div className=\"card-body text-center\">\n          <img\n            className=\"card-profile-img\"\n            style={{ width: '96px' }}\n            src={this.props.user.photoURL.replace(/_normal/, '')}\n          />\n          <h3 className=\"mb-3\">{this.props.user.displayName}</h3>\n          <p>\n            <b className=\"text-danger\">{unpaid_aht} AHT</b>{' '}\n            <span style={{ color: '#ttt', fontSize: '12px' }}>未払い</span> /{' '}\n            <b className=\"text-success\">{amount_aht} AHT</b>{' '}\n            <span style={{ color: '#ttt', fontSize: '12px' }}>獲得</span>\n          </p>\n          <button\n            className=\"btn btn-outline-primary btn-sm\"\n            onClick={() => {\n              this.reservePayment()\n            }}\n          >\n            未払いトークン引き出し\n          </button>\n        </div>\n      </div>,\n    ]\n  }\n}\n\nexport default Profile\n","class Alerts {\n  constructor(component) {\n    this.component = component\n  }\n  pushAlert(message, type = 'danger') {\n    let alerts = this.component.state.alerts || []\n    alerts.unshift({ type: type, text: message })\n    this.component.setState({ alerts: alerts }, () => {})\n  }\n  dissmissAlert(i) {\n    let alerts = this.component.state.alerts || []\n    alerts.splice(i, 1)\n    this.component.setState({ alerts: alerts })\n  }\n}\n\nexport default Alerts\n","import React, { Component } from 'react'\nimport Helmet from 'react-helmet'\n\nimport url from 'url'\nimport querystring from 'querystring'\n\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport Layout from '../components/layout'\nimport Footer from '../components/footer'\nimport Modal from '../components/modal'\nimport Loading from '../components/loading'\nimport Header_Home from '../components/header_home'\nimport Waves from '../components/waves'\nimport Alert from '../components/alert'\nimport Social_Links from '../components/social_links'\nimport Missions from '../components/missions'\nimport History from '../components/history'\nimport Payment from '../components/payment'\nimport Profile from '../components/profile'\nimport auth from '../lib/auth'\nimport alerts from '../lib/alerts'\n\nmoment.locale('ja')\n\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n    let redirectedUrl = props.location.href || ''\n    const parsedUrl = url.parse(redirectedUrl, true)\n    let redirect = null\n    let error = null\n    if (\n      parsedUrl.query.a != undefined &&\n      parsedUrl.query.s != undefined &&\n      parsedUrl.query.d != undefined &&\n      parsedUrl.query.p != undefined\n    ) {\n      redirect = props.location.origin + '/home/' + props.location.search\n    }\n    if (parsedUrl.query.error != undefined) {\n      error = parsedUrl.query.error\n    }\n    this.mission = {\n      id: 'join',\n      aht: 100,\n      tasks: [\n        { id: 'task-1' },\n        { id: 'task-2' },\n        { id: 'task-3', social: 'twitter' },\n        { id: 'task-4', social: 'discord' },\n        { id: 'task-5', social: 'github' },\n      ],\n    }\n    this.state = {\n      serverInfo: {},\n      userInfo: {},\n      history: [],\n      payment: [],\n      error: error,\n      modal: {},\n      oauth: redirect,\n      alerts: [],\n      social_links: {},\n    }\n    this.alerts = new alerts(this)\n  }\n\n  componentDidMount() {\n    if (this.state.error != undefined) {\n      if (this.state.error * 1 === 1) {\n        this.alerts.pushAlert(\n          'そのDiscordアカウントは既に他の人に使われているため登録できません。',\n          'warning'\n        )\n      }\n    }\n    this.auth = new auth(this, { redirect: true, oauth: this.state.oauth })\n  }\n  componentDidUpdate() {\n    window\n      .$('.waves-receiver')\n      .tooltip({ boundary: 'window', placement: 'right' })\n  }\n\n  showModal = config => {\n    this.setState({ modal: config }, () => {\n      window.$('#pageModal').modal({})\n    })\n  }\n\n  render() {\n    let alerts = this.state.alerts || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n    let body =\n      this.state.isUser === undefined ? <Loading /> : this.render_dashboard()\n    return (\n      <Layout>\n        <Helmet\n          link={[\n            {\n              rel: 'stylesheet',\n              type: 'text/css',\n              href: '/tabler/css/tabler.min.css',\n            },\n            {\n              rel: 'stylesheet',\n              type: 'text/css',\n              href: '/css/common.css',\n            },\n          ]}\n        />\n        <Header_Home\n          auth={this.auth}\n          user={this.state.user}\n          serverInfo={this.state.serverInfo}\n        />\n        <div className=\"my-3 my-md-5\">\n          <div className=\"container\">\n            <Alert items={this.state.alerts} alerts={this.alerts} />\n            {body}\n          </div>\n        </div>\n        <Modal modal={this.state.modal} />\n        <Footer />\n      </Layout>\n    )\n  }\n  render_dashboard() {\n    return [\n      <Waves\n        showModal={this.showModal}\n        user={this.state.user}\n        userInfo={this.state.userInfo}\n        auth={this.auth}\n      />,\n      <div className=\"row\">\n        <div className=\"col-lg-4\">\n          <Profile\n            user={this.state.user}\n            payment={this.state.payment}\n            serverInfo={this.state.serverInfo}\n            userInfo={this.state.userInfo}\n            payment={this.state.payment}\n            showModal={this.showModal}\n            auth={this.auth}\n          />\n          <Social_Links\n            auth={this.auth}\n            user={this.state.user}\n            social_links={this.state.social_links}\n            serverInfo={this.state.serverInfo}\n            showModal={this.showModal}\n            userInfo={this.state.userInfo}\n          />\n        </div>\n        <div className=\"col-lg-8\">\n          <Missions\n            component={this}\n            history={this.state.history}\n            auth={this.auth}\n            showModal={this.showModal}\n            user={this.state.user}\n            userInfo={this.state.userInfo}\n            serverInfo={this.state.serverInfo}\n            social_links={this.state.social_links}\n          />\n          <History\n            component={this}\n            history={this.state.history}\n            auth={this.auth}\n            showModal={this.showModal}\n            user={this.state.user}\n            userInfo={this.state.userInfo}\n            serverInfo={this.state.serverInfo}\n          />\n          <Payment\n            component={this}\n            payment={this.state.payment}\n            auth={this.auth}\n            showModal={this.showModal}\n            user={this.state.user}\n            userInfo={this.state.userInfo}\n            serverInfo={this.state.serverInfo}\n          />\n        </div>\n      </div>,\n    ]\n  }\n}\n\nexport default Home\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            {\n              name: 'description',\n              content: '法定通貨に依存しない完全独自経済圏',\n            },\n            { name: 'keywords', content: 'ALIS Hacker Token, ALISハッカー部' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        {children}\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React, { Component } from 'react'\n\nclass Footer extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let link_items = []\n    let items = this.props.items || [\n      { key: 'twitter', href: 'https://twitter.com/alishackers' },\n      { key: 'github', href: 'https://github.com/alisista' },\n      { key: 'discord', href: 'https://discord.gg/TyKbbrT' },\n    ]\n\n    for (let v of items) {\n      link_items.push(\n        <li className=\"list-inline-item\">\n          <a href={v.href} target=\"_blank\">\n            <i className={`fab fa-${v.key}`} />\n          </a>\n        </li>\n      )\n    }\n    return (\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-4\">\n              <span className=\"copyright\">\n                Copyright &copy; ALISハッカー部 2018\n              </span>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline social-buttons\">{link_items}</ul>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline quicklinks\" />\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACJElEQVRYR+2VPSiFURjHvb5FvhaLEhaTm8UgZL0DKxmkDJJCsmKVFINMbOpuDDKYFAOTbEwssgjJ5xWu37/OqRPde9/7uljeU0/vOfec93l+z/88z3u9nH8e3j/HzwkBQgUCKZBIJCoo3kGngB89z1sNUtBBAe4IVoblmqAfPPeB6MoUImMAsm8iyCFWjtn3E8zjAJT8BcASQcaxNyzfBNQ8jg0AsZEJRBAFrghQhSlrDV2DvQpdQ+evASB/O863sEqTcaEBsQAvrGuBuPYLkZECAMRw3OfInmfm7+Y6BDANwMJvAeiureyaK7A6oMAAaH0PQHXWAci+B6ebzn0rxgFWgzU4qkjVViCO/ED4vgIA9nDY4WStqh/G6rAZAyZ/UiMGQH/WAAguSS8w2+evkl59z14j8xNMXaGi1NCerY+UHL4UIMgEXuawIuNNwQ4J0qY1+2pNdYb9LjwwH2F/PZ0KfgHOcFTvBH9i3k2AXQMwxnPeANjMj9lv+TEA2TXjRPevPyBlLuhbt9I5ow/TJVaMqRMEcY9FOHeeCiKtAjhfxsGoE1z+FnE86Trm3D5rfag01Joq0hXOTf0UQJmUmszlS2u12ekXgF7Wa+astqTWHeekTtKRUgGyivLmthNcjs5wqsr/Njgv+e1n2UJEOb+TjCAdgNpuRZkYB7rbWRzeJAGI8PsQpivQUPsOc/45EEAq6bK1l7YIsxUoVCBUIFQgmQKfkxKpIdZVQRMAAAAASUVORK5CYII=\"","import React, { Component } from 'react'\nimport firebase from 'firebase'\nimport uuidv4 from 'uuid/v4'\nimport url from 'url'\nimport _ from 'underscore'\n\n// firestore\nrequire('firebase/firestore')\nconst modals = {\n  error_account_removal: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> エラー！\n      </div>\n    ),\n    body:\n      'アカウント取り消しに失敗しました。時間を置いてもう一度お試し下さい。',\n    cancel_text: '確認',\n  },\n}\nconst config = {\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: `${process.env.FIREBASE_PROJECT_ID}.firebaseapp.com`,\n  databaseURL: `https://${process.env.FIREBASE_DATABASE_NAME}.firebaseio.com`,\n  projectId: process.env.FIREBASE_PROJECT_ID,\n  storageBucket: `${process.env.FIREBASE_BUCKET}.appspot.com`,\n  messagingSenderId: process.env.FIREBASE_SENDER_ID,\n  timestampsInSnapshots: true,\n}\nfirebase.initializeApp(config)\n\nclass Auth {\n  constructor(component, opts = {}) {\n    this.opts = opts\n    this.component = component\n    if (typeof window !== 'undefined') {\n      const WavesAPI = require('@waves/waves-api')\n      this.Waves = WavesAPI.create(WavesAPI.MAINNET_CONFIG)\n      this.db = firebase.firestore()\n      this.provider = new firebase.auth.TwitterAuthProvider()\n      this.provider_github = new firebase.auth.GithubAuthProvider()\n      firebase.auth().useDeviceLanguage()\n      firebase.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.setUser(user, twitter_user => {\n            this.getUserInfo(twitter_user)\n          })\n        } else {\n          if (this.opts.redirect === true) {\n            window.location.href = '/'\n          } else {\n            this.component.setState({ user: null, isUser: false })\n          }\n        }\n      })\n    }\n  }\n\n  // users\n  setData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      }\n    }\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .set(value, { merge: true })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  updateData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        if (e.toString().match(/no document to update/i) !== null) {\n          this.setData(value, cb, err)\n        } else {\n          this.component.alerts.pushAlert(\n            `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n          )\n        }\n      }\n    }\n\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .update(value)\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  confirmMission(mission_id) {\n    let userInfo = this.component.state.userInfo || {}\n    if (userInfo.missions == undefined) {\n      userInfo.missions = {}\n    }\n    if (userInfo.missions[mission_id] == undefined) {\n      userInfo.missions[mission_id] = { tasks: {} }\n    }\n    if (userInfo.missions[mission_id].confirmed == undefined) {\n      userInfo.missions[mission_id].confirmed = Date.now()\n    }\n    let tasks = []\n    let isError = false\n    for (let v of this.component.mission.tasks) {\n      if (v.social != undefined) {\n        if (\n          (this.component.state.social_links || {})[`${v.social}.com`] !=\n          undefined\n        ) {\n          tasks.push({\n            task_id: v.id,\n            social: v.social,\n            id: this.component.state.social_links[`${v.social}.com`].uid,\n          })\n        } else if (\n          (this.component.state.serverInfo || {})[v.social] != undefined\n        ) {\n          tasks.push({\n            task_id: v.id,\n            social: v.social,\n            id: this.component.state.serverInfo[v.social].id,\n          })\n        } else {\n          isError = true\n        }\n      } else {\n        tasks.push(false)\n      }\n    }\n    if (isError == true) {\n      this.component.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n          </div>\n        ),\n        body: 'エラーが発生しました！時間を置いてもう一度お試し下さい。',\n        cancel_text: '確認',\n      })\n      return\n    }\n    let mission_confirmed = {\n      uid: this.component.state.user.uid,\n      mission_id: 'join',\n      date: Date.now(),\n      tasks: tasks,\n      confirmed: false,\n    }\n    let confirmation_id = `join_${mission_confirmed.uid}`\n    this.db\n      .collection('mission_pool')\n      .doc(confirmation_id)\n      .set(mission_confirmed)\n      .then(ss => {\n        this.setUserInfo('missions', userInfo.missions, () => {\n          this.component.showModal({\n            title: (\n              <div>\n                <i className=\"text-success fas fa-check\" /> ミッション確定！\n              </div>\n            ),\n            body:\n              'ミッションを確定しました。２４時間以内に認証されます。しばらくお待ち下さい。',\n            cancel_text: '確認',\n          })\n        })\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n            </div>\n          ),\n          body: 'エラーが発生しました！時間を置いてもう一度お試し下さい。',\n          cancel_text: '確認',\n        })\n      })\n  }\n  completeTask(mission_id, task_id) {\n    let userInfo = this.component.state.userInfo || {}\n    if (userInfo.missions == undefined) {\n      userInfo.missions = {}\n    }\n    if (userInfo.missions[mission_id] == undefined) {\n      userInfo.missions[mission_id] = { tasks: {} }\n    }\n    userInfo.missions[mission_id].tasks[task_id] = Date.now()\n    this.setUserInfo('missions', userInfo.missions, () => {})\n  }\n\n  getUserInfo(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let userInfo = ss.data() || {}\n        this.component.setState({ userInfo: userInfo }, () => {\n          this.getServerInfo(user)\n          this.getUserHistory(user)\n          this.getUserPayment(user)\n          if (this.opts.oauth != undefined) {\n            this.validateWavesAddress(this.opts.oauth)\n          }\n        })\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getServerInfo(user) {\n    this.db\n      .collection('users_server')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let serverInfo = ss.data() || {}\n        this.component.setState({ serverInfo: serverInfo }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserHistory(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('history')\n      .get()\n      .then(ss => {\n        let history = []\n        ss.forEach(doc => {\n          history.push(doc.data())\n        })\n        history = _(history).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ history: history }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserPayment(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('payment')\n      .get()\n      .then(ss => {\n        let payment = []\n        ss.forEach(doc => {\n          payment.push(doc.data())\n        })\n        payment = _(payment).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ payment: payment }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  retry() {\n    let missions = this.component.state.userInfo.missions\n    let revoke = missions.join.revoke\n    for (let k in missions.join.tasks) {\n      if (revoke.includes('task-' + k)) {\n        delete missions.join.tasks[k]\n      }\n    }\n    delete missions.join.revoke\n    console.log(missions)\n\n    this.setUserInfo('missions', missions, () => {\n      this.component.alerts.pushAlert(\n        `重複アカウントによるタスクを取り消しました。別アカウントで再トライして下さい！`,\n        `success`\n      )\n    })\n  }\n  setUser(user, cb) {\n    let twitter_user = {\n      created_at: user.metadata.creationTime,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      uid: user.uid,\n      id: user.providerData[0].uid,\n    }\n    let social_links = {}\n    user.providerData.forEach(v => {\n      social_links[v.providerId] = v\n    })\n    this.component.setState(\n      { user: twitter_user, isUser: true, social_links: social_links },\n      () => {\n        if (cb != undefined) {\n          cb(twitter_user)\n        }\n      }\n    )\n  }\n  link_discord() {\n    this.genRandomValue(random_value => {\n      let oauth_url = `https://discordapp.com/api/oauth2/authorize?client_id=486270221825474562&redirect_uri=${encodeURIComponent(\n        process.env.BACKEND_SERVER_ORIGIN\n      )}%2Foauth%2Fdiscord&response_type=code&scope=guilds%20identify%20messages.read&state=${random_value}_${\n        this.component.state.user.uid\n      }`\n      //window.open(oauth_url, 'firebaseAuth', 'height=315,width=400')\n      window.location.href = oauth_url\n    })\n  }\n  link_github() {\n    firebase\n      .auth()\n      .currentUser.linkWithPopup(this.provider_github)\n      .then(result => {\n        this.setUser(result.user)\n      })\n      .catch(error => {\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n            </div>\n          ),\n          body: 'そのアカウントは既に他のユーザーに使われています。',\n          cancel_text: '確認',\n        })\n      })\n  }\n  registerPayment(amount, address) {\n    let uid = this.component.state.user.uid\n    let payment = this.component.state.payment\n    let date = Date.now()\n    let transaction = {\n      amount: amount,\n      address: address,\n      date: date,\n      status: 'requested',\n    }\n    let transaction_pool = {\n      uid: uid,\n      amount: amount,\n      address: address,\n      date: date,\n      status: 'requested',\n    }\n    payment.unshift(transaction)\n    this.db\n      .collection('users')\n      .doc(uid)\n      .collection('payment')\n      .doc(`${date}_${amount}`)\n      .set(transaction)\n      .then(() => {\n        this.component.setState({ payment: payment })\n      })\n    this.db\n      .collection('payment_pool')\n      .doc(uid + '_' + date)\n      .set(transaction_pool)\n      .then(() => {\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n              支払い手続き開始！\n            </div>\n          ),\n          body: (\n            <p>\n              トークンの送信リストに登録しました。数分～数十分以内に指定のアドレスにトークンが送信されます。手続きの進行状況は支払い履歴から確認できます。\n            </p>\n          ),\n          cancel_text: '確認',\n        })\n      })\n  }\n  unlink_github() {\n    firebase\n      .auth()\n      .currentUser.unlink('github.com')\n      .then(result => {\n        this.setUser(result)\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_account_removal)\n      })\n  }\n  unlink_discord() {\n    this.genRandomValue(random_value => {\n      fetch(\n        `${process.env.BACKEND_SERVER_ORIGIN}/alishackers/remove/discord/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        {\n          method: 'POST',\n        }\n      )\n        .then(res => res.json())\n        .then(json => {\n          if (json.error == undefined) {\n            console.log(json)\n            this.getServerInfo(this.component.state.user)\n          } else {\n            this.component.showModal(modals.error_account_removal)\n          }\n        })\n        .catch(() => {\n          this.component.showModal(modals.error_account_removal)\n        })\n    })\n  }\n\n  login() {\n    firebase\n      .auth()\n      .signInWithPopup(this.provider)\n      .then(() => {\n        window.location.href = '/home/'\n      })\n      .catch(error => {\n        alert('ログインに失敗しました！もう一度お試し下さい。')\n      })\n  }\n  logout() {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.location.href = '/'\n      })\n      .catch(error => {\n        alert('ログアウトに失敗しました。もう一度お試し下さい。')\n      })\n  }\n\n  // waves\n  validateWavesAddress(popup_url) {\n    const redirectedUrl = popup_url\n    const parsedUrl = url.parse(redirectedUrl, true)\n    const signedData = parsedUrl.query.d\n\n    /* \n       todo: need to verify signature, but the current code on the demo page is not working!!\n       https://demo.wavesplatform.com/\n    */\n    const signature = parsedUrl.query.s\n    const publicKey = parsedUrl.query.p\n    const address = parsedUrl.query.a\n    const [random_value, uid] = signedData.split('_')\n    if (\n      uid != this.component.state.user.uid ||\n      random_value != this.component.state.userInfo.random_value ||\n      this.Waves.crypto.isValidAddress(address) == false\n    ) {\n      this.component.alerts.pushAlert(\n        `認証に失敗しました。時間を置いて再度お試し下さい。`\n      )\n    } else {\n      this.addWavesAddress({\n        publickKey: publicKey,\n        address: address,\n        added_at: Date.now(),\n      })\n    }\n  }\n  setAsReceiver(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    for (let k in waves_addresses) {\n      if (k == address) {\n        waves_addresses[k].receiver = true\n      } else {\n        delete waves_addresses[k].receiver\n      }\n    }\n    this.setUserInfo('waves_addresses', waves_addresses, () => {\n      this.component.alerts.pushAlert(\n        `受け取りアドレスを${address} に変更しました！`,\n        `success`\n      )\n    })\n  }\n  checkAddressInPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .get()\n      .then(ss => {\n        if (ss.exists) {\n          this.component.alerts.pushAlert(\n            `${address}は既に他の人に登録されているため使えません。`\n          )\n        } else {\n          cb()\n        }\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      })\n  }\n  addWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    if (waves_addresses[address.address] != undefined) {\n      this.component.alerts.pushAlert(\n        `${address.address} は既に登録されています！`,\n        `warning`\n      )\n    } else {\n      this.checkAddressInPool(address.address, () => {\n        if (_.isEmpty(waves_addresses)) {\n          address.receiver = true\n        }\n        waves_addresses[address.address] = address\n        this.setUserInfo('waves_addresses', waves_addresses, () => {\n          this.addAddressToPool(address.address, () => {\n            this.component.alerts.pushAlert(\n              `${address.address} を追加しました！`,\n              `success`\n            )\n          })\n        })\n      })\n    }\n  }\n  setUserInfo(field, value, cb) {\n    this.updateData({ [field]: value }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo[field] = value\n      this.component.setState({ userInfo: userInfo }, () => {})\n      cb()\n    })\n  }\n  removeAddressFromPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .delete()\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  addAddressToPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .set({ uid: this.component.state.user.uid })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  genRandomValue(cb) {\n    let uuid = uuidv4()\n    this.setData({ random_value: uuid }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo.random_value = uuid\n      this.component.setState({ userInfo: userInfo }, () => {\n        cb(uuid)\n      })\n    })\n  }\n  removeWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    delete waves_addresses[address]\n    this.setUserInfo('waves_addresses', waves_addresses, () => {\n      this.removeAddressFromPool(address, () => {\n        this.component.alerts.pushAlert(`${address} を削除しました！`)\n      })\n    })\n  }\n}\n\nexport default Auth\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACrUExURUxpcQAAAABU/QBV/QBV/wBV/wBV/QA//wBV/QAA/xNd9BNb8xVd9A5a8hNd8QBV/xFb8RNe7w1Z8Q1Z8w9a9BFb9BNb9RNb9ABU/xZe9A5Y8Bdg8g9Z8xVe9RZd8h1k8hNc8xNd9gBW/RJb8iFl8BRd8hBb8A9a8RBb8hxj8hFb8gAz/wBV/gNc/wNb/wJc/wJb/wJa/wBV/QJZ/wFZ/wNd/wNZ/wRa/wRd/0MrWF8AAAAsdFJOUwAB+/v7A/wE/gGRgJF/c/xydICAlaSAjvqRf46ApH16gZP8lHt+bYJ9kJEFDHHjxQAAAJ9JREFUGNNFjlcWwyAMBNcxBpzee+8FjEva/U8WGUiyj58ZLU8CKLFAf4Aohk8gML1no58h7hnOTNUb4m7KpKroujX0v5EQKzK2IzBPw5LJmAki4GyYY6XGjxlwzViuvgmzBU7F9ltQkj83wDFteSOZXgI3tN0SJUM9pB30mgmXdl6DKE8T6FAntxzY2wVWb8712s2d2b+Kw59Lc9l5/gDcFxK6VyrYfgAAAABJRU5ErkJggg==\""],"sourceRoot":""}