{"version":3,"sources":["webpack:///./src/pages/oauth.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/footer.js"],"names":["HTML","props","_this","_Component","call","this","console","log","redirectedUrl","location","href","parsedUrl","url__WEBPACK_IMPORTED_MODULE_6___default","a","parse","redirect","noredirect","query","s","d","p","origin","search","state","componentDidMount","_this2","setTimeout","window","render","body","render_wrongPage","render_oauth","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_4__","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","link","rel","type","className","_components_footer__WEBPACK_IMPORTED_MODULE_5__","items","key","redirect_url","style","color","react__WEBPACK_IMPORTED_MODULE_2__","Component","__webpack_exports__","default","f","152","e","t","m","module","exports","__webpack_require__","r","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","push","replace","navigateTo","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","data","children","Error","propTypes","object","string","isRequired","func","Layout","_ref","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","Fragment","title","site","siteMetadata","meta","name","content","lang","_public_static_d_755544856_json__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","node","u","157","159","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","pageResources","getResourcesForPathname","pathname","shape","o","161","i","c","link_items","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","length","next","done","value","v","react__WEBPACK_IMPORTED_MODULE_5___default","target","react__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","file":"component---src-pages-oauth-js-97c31840e4eb0d1cbccc.js","sourcesContent":["import React, { Component } from 'react'\nimport Helmet from 'react-helmet'\nimport Layout from '../components/layout'\nimport Footer from '../components/footer'\n\nimport url from 'url'\n\nclass HTML extends Component {\n  constructor(props) {\n    super(props)\n    console.log(props)\n    let redirectedUrl = props.location.href || ''\n    const parsedUrl = url.parse(redirectedUrl, true)\n    let redirect = null\n    let noredirect = false\n    if (parsedUrl.query.noredirect == '1') {\n      noredirect = true\n    }\n    if (\n      parsedUrl.query.a != undefined &&\n      parsedUrl.query.s != undefined &&\n      parsedUrl.query.d != undefined &&\n      parsedUrl.query.p != undefined\n    ) {\n      redirect = props.location.origin + '/home/' + props.location.search\n    }\n    this.state = {\n      noredirect: noredirect,\n      redirect: redirect,\n    }\n  }\n  componentDidMount() {\n    if (this.state.noredirect !== true) {\n      setTimeout(() => {\n        window.location.href = this.state.redirect\n      }, 5000)\n    }\n  }\n  render() {\n    let user\n    let body =\n      this.state.redirect === undefined\n        ? this.render_wrongPage()\n        : this.render_oauth()\n    let footer_links = [\n      { key: 'twitter', href: 'https://twitter.com/alishackers' },\n      { key: 'github', href: 'https://github.com/alisista' },\n      { key: 'discord', href: 'https://discord.gg/TyKbbrT' },\n    ]\n    return (\n      <Layout>\n        <Helmet\n          link={[\n            {\n              rel: 'stylesheet',\n              type: 'text/css',\n              href: '/tabler/css/tabler.min.css',\n            },\n            {\n              rel: 'stylesheet',\n              type: 'text/css',\n              href: '/css/common.css',\n            },\n          ]}\n        />\n\n        <div className=\"page\">\n          <div className=\"flax-fill\">\n            <div className=\"header py-4\">\n              <div className=\"container\">\n                <div className=\"d-flex\">\n                  <a className=\"header-brand\" href=\"/\">\n                    ALIS HackerToken\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"my-3 my-md-5\">{body}</div>\n        <Footer items={footer_links} />\n      </Layout>\n    )\n  }\n  render_wrongPage() {\n    return (\n      <div className=\"page\">\n        <div className=\"page-content\">\n          <div className=\"container text-center\">\n            <div className=\"display-1 text-muted mb-5\">\n              <i className=\"si si-exclamation\" /> 404\n            </div>\n\n            <h1 className=\"h2 mb-3\">お探しのページは見つかりませんでした。</h1>\n            <p className=\"h4 text-muted font-weight-normal mb-7\">\n              法定通貨に依存しない完全独自経済圏で好きなことを追求して生きていこう！\n            </p>\n\n            <a className=\"btn btn-primary\" href=\"/\">\n              <i className=\"fe fe-arrow-left mr-2\" />\n              トップページへ戻る\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  render_oauth() {\n    let redirect_url = this.state.redirect\n    console.log(redirect_url)\n    return (\n      <div className=\"page\">\n        <div className=\"page-content\">\n          <div className=\"container text-center\">\n            <div className=\"display-1 text-muted mb-5\">\n              <i className=\"si si-exclamation\" /> 認証中\n            </div>\n\n            <h1 className=\"h2 mb-3\">\n              リダイレクト待ちです。少々お待ち下さい。\n            </h1>\n            <p className=\"h4 text-muted font-weight-normal mb-7\">\n              自動的にリダイレクトされない場合は、下のボタンをクリックして手動で移動して下さい。\n            </p>\n            <a\n              className=\"btn btn-primary\"\n              href={redirect_url}\n              style={{ color: 'white' }}\n            >\n              <i className=\"fe fe-arrow-left mr-2\" />\n              認証を続ける\n            </a>\n            <a href={redirect_url}>{redirect_url}</a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default HTML\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            {\n              name: 'description',\n              content: '法定通貨に依存しない完全独自経済圏',\n            },\n            { name: 'keywords', content: 'ALIS Hacker Token, ALISハッカー部' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        {children}\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React, { Component } from 'react'\n\nclass HTML extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let link_items = []\n    for (let v of this.props.items) {\n      link_items.push(\n        <li className=\"list-inline-item\">\n          <a href={v.href} target=\"_blank\">\n            <i className={`fab fa-${v.key}`} />\n          </a>\n        </li>\n      )\n    }\n    return (\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-4\">\n              <span className=\"copyright\">\n                Copyright &copy; ALISハッカー部 2018\n              </span>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline social-buttons\">{link_items}</ul>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline quicklinks\" />\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\nexport default HTML\n"],"sourceRoot":""}