{"version":3,"sources":["webpack:///./src/lib/alerts.js","webpack:///./src/pages/home.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/footer.js","webpack:///./src/lib/auth.js","webpack:///./src/assets/images/waves.png"],"names":["lib_alerts","Alerts","component","this","pushAlert","message","type","alerts","state","unshift","text","setState","t","dissmissAlert","i","splice","moment_timezone_default","a","locale","home_HTML","HTML","props","_this","_Component","call","redirectedUrl","location","href","parsedUrl","url_default","parse","redirect","query","s","d","p","origin","search","oauth","tobeRemoved","assertThisInitialized_default","componentDidMount","auth","componentDidUpdate","window","$","tooltip","boundary","placement","render","user","_this2","alert_html","forEach","v","push","react_default","createElement","role","className","style","width","onClick","body","isUser","render_loading","render_dashboard","data-toggle","backgroundImage","photoURL","displayName","layout","Helmet_default","link","rel","logout","footer","items","key","addWaves","_this3","genRandomValue","random_value","waves_url","uid","clearInterval","interval","popup","open","current_url","parentWindow","setInterval","err","redirect_url","popup_url","close","e","host","validateWavesAddress","removeWavesAddress","k","modal","confirmRemoval","waves_html","_this4","waves_addresses","userInfo","underscore_default","isEmpty","receiver_address","addresses_html","waves_addresses_ordered","receiver","index","address","src","waves_default","title","setAsReceiver","wordBreak","whiteSpace","added_at","format","id","tabIndex","aria-labelledby","aria-hidden","data-dismiss","aria-label","react","Component","__webpack_exports__","default","N","152","m","module","exports","__webpack_require__","r","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","replace","navigateTo","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","data","children","Error","propTypes","object","string","isRequired","func","Layout","_ref","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","Fragment","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","site","siteMetadata","meta","name","content","lang","_public_static_d_755544856_json__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","node","u","157","159","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","pageResources","getResourcesForPathname","pathname","shape","l","161","o","link_items","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","length","next","done","value","react__WEBPACK_IMPORTED_MODULE_5___default","target","react__WEBPACK_IMPORTED_MODULE_5__","169","c","firebase__WEBPACK_IMPORTED_MODULE_5___default","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","timestampsInSnapshots","Auth","opts","WavesAPI","Waves","create","MAINNET_CONFIG","db","firestore","provider","TwitterAuthProvider","useDeviceLanguage","onAuthStateChanged","obj","twitter_user","providerData","getUserInfo","prototype","setData","cb","console","log","collection","doc","set","merge","then","ss","catch","updateData","toString","match","update","get","login","signInWithPopup","error","alert","signOut","url__WEBPACK_IMPORTED_MODULE_7___default","signedData","publicKey","_signedData$split","split","crypto","isValidAddress","addWavesAddress","publickKey","Date","now","_this5","setWavesAddress","checkAddressInPool","_this6","exists","_this7","underscore__WEBPACK_IMPORTED_MODULE_8___default","addAddressToPool","_this8","removeAddressFromPool","delete","_this9","uuid","uuid_v4__WEBPACK_IMPORTED_MODULE_6___default","_this10","225"],"mappings":"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","file":"component---src-pages-home-js-49b495c016eb4a6f29ee.js","sourcesContent":["class Alerts {\n  constructor(component) {\n    this.component = component\n  }\n  pushAlert(message, type = 'danger') {\n    let alerts = this.component.state.alerts || []\n    alerts.unshift({ type: type, text: message })\n    this.component.setState({ alerts: alerts }, () => {})\n  }\n  dissmissAlert(i) {\n    let alerts = this.component.state.alerts || []\n    alerts.splice(i, 1)\n    this.component.setState({ alerts: alerts })\n  }\n}\n\nexport default Alerts\n","import React, { Component } from 'react'\nimport Helmet from 'react-helmet'\nimport _ from 'underscore'\nimport url from 'url'\nimport querystring from 'querystring'\n\nimport Layout from '../components/layout'\nimport Footer from '../components/footer'\n\nimport auth from '../lib/auth'\nimport alerts from '../lib/alerts'\n\nimport waves_icon from '../assets/images/waves.png'\n\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\nmoment.locale('ja')\n\nclass HTML extends Component {\n  constructor(props) {\n    super(props)\n    let redirectedUrl = props.location.href || ''\n    const parsedUrl = url.parse(redirectedUrl, true)\n    let redirect = null\n    if (\n      parsedUrl.query.a != undefined &&\n      parsedUrl.query.s != undefined &&\n      parsedUrl.query.d != undefined &&\n      parsedUrl.query.p != undefined\n    ) {\n      redirect = props.location.origin + '/home/' + props.location.search\n    }\n    this.state = {\n      oauth: redirect,\n      alerts: [],\n      tobeRemoved: null,\n    }\n    this.alerts = new alerts(this)\n  }\n  componentDidMount() {\n    this.auth = new auth(this, { redirect: true, oauth: this.state.oauth })\n  }\n  componentDidUpdate() {\n    window\n      .$('.waves-receiver')\n      .tooltip({ boundary: 'window', placement: 'right' })\n  }\n  render() {\n    let user\n    let alerts = this.state.alerts || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n    let body =\n      this.state.isUser === undefined\n        ? this.render_loading()\n        : this.render_dashboard()\n    let footer_links = [\n      { key: 'twitter', href: 'https://twitter.com/alishackers' },\n      { key: 'github', href: 'https://github.com/alisista' },\n      { key: 'discord', href: 'https://discord.gg/TyKbbrT' },\n    ]\n    if (this.state.user != undefined) {\n      user = (\n        <a\n          href=\"#\"\n          className=\"nav-link pr-0 leading-none\"\n          data-toggle=\"dropdown\"\n        >\n          <span\n            className=\"avatar\"\n            style={{\n              backgroundImage: `url(${this.state.user.photoURL})`,\n            }}\n          />\n          <span className=\"ml-2 d-none d-lg-block\">\n            <span className=\"text-default\">{this.state.user.displayName}</span>\n            <small className=\"text-muted d-block mt-1\">0.00000000 AHT</small>\n          </span>\n        </a>\n      )\n    }\n    return (\n      <Layout>\n        <Helmet\n          link={[\n            {\n              rel: 'stylesheet',\n              type: 'text/css',\n              href: '/tabler/css/tabler.min.css',\n            },\n            {\n              rel: 'stylesheet',\n              type: 'text/css',\n              href: '/css/common.css',\n            },\n          ]}\n        />\n        <div className=\"page\">\n          <div className=\"flax-fill\">\n            <div className=\"header py-4\">\n              <div className=\"container\">\n                <div className=\"d-flex\">\n                  <a className=\"header-brand\" href=\"/\">\n                    ALIS HackerToken\n                  </a>\n                  <div className=\"d-flex order-lg-2 ml-auto\">\n                    <div className=\"dropdown\">\n                      {user}\n                      <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n                        <a\n                          className=\"dropdown-item\"\n                          onClick={() => {\n                            this.auth.logout()\n                          }}\n                        >\n                          <i className=\"dropdown-icon fe fe-log-out\" />{' '}\n                          ログアウト\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"my-3 my-md-5\">\n          <div className=\"container\">\n            <div className=\"row\">\n              {alert_html}\n              {body}\n            </div>\n          </div>\n        </div>\n        <Footer items={footer_links} />\n      </Layout>\n    )\n  }\n  addWaves() {\n    this.auth.genRandomValue(random_value => {\n      let waves_url = `https://client.wavesplatform.com#gateway/auth?r=https://${\n        process.env.WAVES_REDIRECT\n      }/&n=ALIS HackerToken&i=/img/alis_hackers.png&s=//oauth&d=${random_value}_${\n        this.state.user.uid\n      }&debug=false`\n      window.clearInterval(this.interval)\n      let popup = window.open(waves_url)\n      let current_url = url.parse(window.location.href)\n      if (popup == null) {\n        window.location.href = waves_url\n      } else {\n        popup.parentWindow = window\n        this.interval = window.setInterval(() => {\n          let err, redirect_url, popup_url\n          try {\n            popup_url = popup.location.href\n            redirect_url = url.parse(popup_url)\n            popup.close()\n          } catch (e) {\n            err = e\n          }\n          if (err == null && current_url.host === redirect_url.host) {\n            window.clearInterval(this.interval)\n            this.auth.validateWavesAddress(popup_url)\n          }\n        }, 1000)\n      }\n    })\n  }\n  render_loading() {\n    return (\n      <div className=\"page\" style={{ width: '100%' }}>\n        <div className=\"page-content\">\n          <div className=\"container text-center\">\n            <div className=\"display-1 text-muted mb-5\">\n              <i className=\"si si-exclamation\" /> データ取得中\n            </div>\n\n            <h1 className=\"h2 mb-3\">少々お待ち下さい...</h1>\n            <p className=\"h4 text-muted font-weight-normal mb-7\">\n              法定通貨に依存しない完全独自経済圏で好きなことを追求して生きていこう！\n            </p>\n\n            <a className=\"btn btn-primary\" href=\"/\">\n              <i className=\"fe fe-arrow-left mr-2\" />\n              トップページへ戻る\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  removeWavesAddress(k) {\n    this.setState({ tobeRemoved: k }, () => {\n      window.$('#pageModal').modal({})\n    })\n  }\n  confirmRemoval(k) {\n    window.$('#pageModal').modal('hide')\n    this.auth.removeWavesAddress(k)\n  }\n  render_dashboard() {\n    let userInfo = this.state.userInfo\n    let waves_addresses = (userInfo || {}).waves_addresses || {}\n    let waves_html\n    if (_.isEmpty(waves_addresses)) {\n      waves_html = (\n        <div className=\"card-body\">Wavesアドレスは登録されていません。</div>\n      )\n    } else {\n      let addresses_html = []\n      let index = 0\n      let receiver_address\n      let waves_addresses_ordered = []\n      for (let k in waves_addresses) {\n        if (waves_addresses[k].receiver === true) {\n          receiver_address = waves_addresses[k]\n        } else {\n          waves_addresses_ordered.push(waves_addresses[k])\n        }\n      }\n      if (receiver_address != undefined) {\n        waves_addresses_ordered.unshift(receiver_address)\n      }\n      waves_addresses_ordered.forEach((v, index) => {\n        let receiver\n        if (\n          (receiver_address == undefined && index == 0) ||\n          (receiver_address != undefined &&\n            receiver_address.address == v.address)\n        ) {\n          receiver = <img src={waves_icon} />\n        } else {\n          receiver = (\n            <img\n              data-toggle=\"tooltip\"\n              className=\"waves-receiver\"\n              title=\"受け取りアドレスに設定する\"\n              src={waves_icon}\n              onClick={() => {\n                this.auth.setAsReceiver(v.address)\n              }}\n            />\n          )\n        }\n        addresses_html.push(\n          <tr>\n            <td>{receiver}</td>\n            <td style={{ wordBreak: 'break-all' }}>\n              <b>{v.address}</b>\n            </td>\n            <td>\n              <span style={{ whiteSpace: 'nowrap' }}>\n                {moment(waves_addresses[v.address].added_at).format('YYYY年')}\n              </span>{' '}\n              <span style={{ whiteSpace: 'nowrap' }}>\n                {moment(waves_addresses[v.address].added_at).format('M月D日')}\n              </span>\n            </td>\n            <td>\n              <a\n                className=\"icon\"\n                onClick={() => {\n                  this.removeWavesAddress(v.address)\n                }}\n              >\n                <i className=\"fe fe-trash text-danger\" />\n              </a>\n            </td>\n          </tr>\n        )\n      })\n      waves_html = (\n        <table className=\"table card-table table-striped table-vcenter\">\n          <thead>\n            <tr>\n              <th>受取</th>\n              <th>Wavesアドレス</th>\n              <th>追加日</th>\n              <th>削除</th>\n            </tr>\n          </thead>\n          <tbody>{addresses_html}</tbody>\n        </table>\n      )\n    }\n    return (\n      <div className=\"col-12\">\n        <div className=\"card\">\n          <div className=\"table-responsible\">{waves_html}</div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              onClick={() => {\n                this.addWaves()\n              }}\n            >\n              Wavesアドレスを追加\n            </button>\n          </div>\n        </div>\n\n        <div\n          className=\"modal fade\"\n          id=\"pageModal\"\n          tabIndex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"exampleModalLabel\"\n          aria-hidden=\"true\"\n        >\n          <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                  Wavesアドレス削除確認\n                </h5>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                />\n              </div>\n              <div className=\"modal-body\" style={{ wordBreak: 'break-all' }}>\n                {`本当に`} <b>{this.state.tobeRemoved}</b>{' '}\n                {`を削除してよろしいですか？`}\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  data-dismiss=\"modal\"\n                >\n                  取り消し\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-danger\"\n                  onClick={() => {\n                    this.confirmRemoval(this.state.tobeRemoved)\n                  }}\n                >\n                  実行\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default HTML\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            {\n              name: 'description',\n              content: '法定通貨に依存しない完全独自経済圏',\n            },\n            { name: 'keywords', content: 'ALIS Hacker Token, ALISハッカー部' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        {children}\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React, { Component } from 'react'\n\nclass HTML extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let link_items = []\n    for (let v of this.props.items) {\n      link_items.push(\n        <li className=\"list-inline-item\">\n          <a href={v.href} target=\"_blank\">\n            <i className={`fab fa-${v.key}`} />\n          </a>\n        </li>\n      )\n    }\n    return (\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-4\">\n              <span className=\"copyright\">\n                Copyright &copy; ALISハッカー部 2018\n              </span>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline social-buttons\">{link_items}</ul>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline quicklinks\" />\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\nexport default HTML\n","import firebase from 'firebase'\nimport uuidv4 from 'uuid/v4'\nimport url from 'url'\nimport _ from 'underscore'\n\n// firestore\nrequire('firebase/firestore')\nconst config = {\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: `${process.env.FIREBASE_PROJECT_ID}.firebaseapp.com`,\n  databaseURL: `https://${process.env.FIREBASE_DATABASE_NAME}.firebaseio.com`,\n  projectId: process.env.FIREBASE_PROJECT_ID,\n  storageBucket: `${process.env.FIREBASE_BUCKET}.appspot.com`,\n  messagingSenderId: process.env.FIREBASE_SENDER_ID,\n  timestampsInSnapshots: true,\n}\nfirebase.initializeApp(config)\n\nclass Auth {\n  constructor(component, opts = {}) {\n    this.opts = opts\n    this.component = component\n    if (typeof window !== 'undefined') {\n      const WavesAPI = require('@waves/waves-api')\n      this.Waves = WavesAPI.create(WavesAPI.MAINNET_CONFIG)\n      this.db = firebase.firestore()\n      this.provider = new firebase.auth.TwitterAuthProvider()\n      firebase.auth().useDeviceLanguage()\n      firebase.auth().onAuthStateChanged((user, obj) => {\n        if (user) {\n          let twitter_user = {\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            uid: user.uid,\n            id: user.providerData[0].uid,\n          }\n          this.component.setState({ user: twitter_user, isUser: true }, () => {\n            this.getUserInfo(twitter_user)\n          })\n        } else {\n          if (this.opts.redirect === true) {\n            window.location.href = '/'\n          } else {\n            this.component.setState({ user: null, isUser: false })\n          }\n        }\n      })\n    }\n  }\n\n  // users\n  setData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      }\n    }\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .set(value, { merge: true })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  updateData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        if (e.toString().match(/no document to update/i) !== null) {\n          this.setData(value, cb, err)\n        } else {\n          this.component.alerts.pushAlert(\n            `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n          )\n        }\n      }\n    }\n\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .update(value)\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n\n  getUserInfo(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let userInfo = ss.data() || {}\n        this.component.setState({ userInfo: userInfo }, () => {\n          if (this.opts.oauth != undefined) {\n            this.validateWavesAddress(this.opts.oauth)\n          }\n        })\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  login() {\n    firebase\n      .auth()\n      .signInWithPopup(this.provider)\n      .then(() => {\n        window.location.href = '/home/'\n      })\n      .catch(error => {\n        alert('ログインに失敗しました！もう一度お試し下さい。')\n      })\n  }\n  logout() {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.location.href = '/'\n      })\n      .catch(error => {\n        alert('ログアウトに失敗しました。もう一度お試し下さい。')\n      })\n  }\n\n  // waves\n  validateWavesAddress(popup_url) {\n    const redirectedUrl = popup_url\n    const parsedUrl = url.parse(redirectedUrl, true)\n    const signedData = parsedUrl.query.d\n\n    /* \n       todo: need to verify signature, but the current code on the demo page is not working!!\n       https://demo.wavesplatform.com/\n    */\n    const signature = parsedUrl.query.s\n    const publicKey = parsedUrl.query.p\n    const address = parsedUrl.query.a\n    const [random_value, uid] = signedData.split('_')\n    if (\n      uid != this.component.state.user.uid ||\n      random_value != this.component.state.userInfo.random_value ||\n      this.Waves.crypto.isValidAddress(address) == false\n    ) {\n      this.component.alerts.pushAlert(\n        `認証に失敗しました。時間を置いて再度お試し下さい。`\n      )\n    } else {\n      this.addWavesAddress({\n        publickKey: publicKey,\n        address: address,\n        added_at: Date.now(),\n      })\n    }\n  }\n  setAsReceiver(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    for (let k in waves_addresses) {\n      if (k == address) {\n        waves_addresses[k].receiver = true\n      } else {\n        delete waves_addresses[k].receiver\n      }\n    }\n    this.setWavesAddress(waves_addresses, () => {\n      this.component.alerts.pushAlert(\n        `受け取りアドレスを${address} に変更しました！`,\n        `success`\n      )\n    })\n  }\n  checkAddressInPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .get()\n      .then(ss => {\n        if (ss.exists) {\n          this.component.alerts.pushAlert(\n            `${address}は既に他の人に登録されているため使えません。`\n          )\n        } else {\n          cb()\n        }\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      })\n  }\n  addWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    if (waves_addresses[address.address] != undefined) {\n      this.component.alerts.pushAlert(\n        `${address.address} は既に登録されています！`,\n        `warning`\n      )\n    } else {\n      this.checkAddressInPool(address.address, () => {\n        if (_.isEmpty(waves_addresses)) {\n          address.receiver = true\n        }\n        waves_addresses[address.address] = address\n        this.setWavesAddress(waves_addresses, () => {\n          this.addAddressToPool(address.address, () => {\n            this.component.alerts.pushAlert(\n              `${address.address} を追加しました！`,\n              `success`\n            )\n          })\n        })\n      })\n    }\n  }\n  setWavesAddress(waves_addresses, cb) {\n    this.updateData({ waves_addresses: waves_addresses }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo.waves_addresses = waves_addresses\n      this.component.setState({ userInfo: userInfo }, () => {})\n      cb()\n    })\n  }\n  removeAddressFromPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .delete()\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  addAddressToPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .set({ uid: this.component.state.user.uid })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  genRandomValue(cb) {\n    let uuid = uuidv4()\n    this.setData({ random_value: uuid }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo.random_value = uuid\n      this.component.setState({ userInfo: userInfo }, () => {\n        cb(uuid)\n      })\n    })\n  }\n  removeWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    delete waves_addresses[address]\n    this.setWavesAddress(waves_addresses, () => {\n      this.removeAddressFromPool(address, () => {\n        this.component.alerts.pushAlert(`${address} を削除しました！`)\n      })\n    })\n  }\n}\n\nexport default Auth\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACrUExURUxpcQAAAABU/QBV/QBV/wBV/wBV/QA//wBV/QAA/xNd9BNb8xVd9A5a8hNd8QBV/xFb8RNe7w1Z8Q1Z8w9a9BFb9BNb9RNb9ABU/xZe9A5Y8Bdg8g9Z8xVe9RZd8h1k8hNc8xNd9gBW/RJb8iFl8BRd8hBb8A9a8RBb8hxj8hFb8gAz/wBV/gNc/wNb/wJc/wJb/wJa/wBV/QJZ/wFZ/wNd/wNZ/wRa/wRd/0MrWF8AAAAsdFJOUwAB+/v7A/wE/gGRgJF/c/xydICAlaSAjvqRf46ApH16gZP8lHt+bYJ9kJEFDHHjxQAAAJ9JREFUGNNFjlcWwyAMBNcxBpzee+8FjEva/U8WGUiyj58ZLU8CKLFAf4Aohk8gML1no58h7hnOTNUb4m7KpKroujX0v5EQKzK2IzBPw5LJmAki4GyYY6XGjxlwzViuvgmzBU7F9ltQkj83wDFteSOZXgI3tN0SJUM9pB30mgmXdl6DKE8T6FAntxzY2wVWb8712s2d2b+Kw59Lc9l5/gDcFxK6VyrYfgAAAABJRU5ErkJggg==\""],"sourceRoot":""}